[id="ocp-4-3-release-notes"]
= {product-title} {product-version} release notes
include::modules/common-attributes.adoc[]
:context: release-notes

toc::[]

Red Hat {product-title} provides developers and IT organizations with a hybrid
cloud application platform for deploying both new and existing applications on
secure, scalable resources with minimal configuration and management overhead.
{product-title} supports a wide selection of programming languages and
frameworks, such as Java, JavaScript, Python, Ruby, and PHP.

Built on Red Hat Enterprise Linux and Kubernetes, {product-title}
provides a more secure and scalable multi-tenant operating system for todayâ€™s
enterprise-class applications, while delivering integrated application runtimes
and libraries. {product-title} enables organizations to meet security, privacy,
compliance, and governance requirements.

[id="ocp-4-3-about-this-release"]
== About this release

Red Hat {product-title}
(link:https://access.redhat.com/errata/RHBA-2019:1234[RHBA-2019:1234]) is now
available. This release uses Kubernetes 1.16 with CRI-O runtime. This is an
increase of two versions of Kubernetes from {product-title} 4.2, which used
Kubernetes 1.14. New features, changes, and known issues that pertain to
{product-title} {product-version} are included in this topic.

{product-title} {product-version} clusters are available at
https://cloud.redhat.com/openshift. The {cloud-redhat-com}
application for {product-title} allows you to deploy OpenShift clusters to
either on-premise or cloud environments.

{product-title} {product-version} is supported on Red Hat Enterprise Linux 7.6 and
later, as well as Red Hat Enterprise Linux CoreOS 4.1.

You must use {op-system-first} for the control plane, or master, machines and
can use either {op-system} or Red Hat Enterprise Linux 7.6 for compute, or worker,
machines.

[IMPORTANT]
====
Because only Red Hat Enterprise Linux version 7.6 is supported for compute
machines, you must not upgrade the Red Hat Enterprise Linux compute machines to
version 8.
====

[id="ocp-4-3-new-features-and-enhancements"]
== New features and enhancements

This release adds improvements related to the following components and concepts.

[id="ocp-4-3-installation-and-upgrade"]
=== Installation and upgrade

[id="ocp-4-3-phased-rollout"]
==== {product-title} upgrades phased rollout

In {product-title} 4.1, Red Hat introduced the concept of upgrade channels for
recommending the appropriate upgrade versions to your cluster. Upgrade channels
separate upgrade strategies and also are used to control the cadence of updates.
Channels are tied to a minor version of {product-title}. For instance,
{product-title} {product-version} channels will never include an upgrade to a
4.4 release. This ensures administrators make an explicit decision to upgrade to
the next minor version of {product-title}. Channels only control updates and
have no impact on the version of the cluster you install; the
`openshift-install` binary for a given patch level of  {product-title} always
installs that patch level.

See link:https://access.redhat.com/articles/4495171[OpenShift 4.x Upgrades
phased roll out] for more information on the types of updates and upgrade
channels.

Because upgrades are published to the channels as they are gradually rolled out
to customers based on data from the Red Hat Service Reliability Engineering
(SRE) team, you might not immediately see notification in the web console that
updates from version 4.2.z to 4.3 are available at initial release.

[id="ocp-4-3-security"]
=== Security

[id="ocp-4-3-cert-rotation"]
==== Automatic rotation of certificates

Automated CA rotation will be available in this release in a future z-stream
update. This is to allow time for administrators to plan accordingly for their environments.

[id="ocp-4-3-encrypt-data-stored-in-etcd"]
==== Encrypt data stored in etcd

You can now xref:../authentication/encrypting-etcd.adoc#encrypting-etcd[encrypt data stored in etcd].
Enabling etcd encryption for your cluster provides an additional layer of data
security.

When you enable etcd encryption, the following OpenShift API server and
Kubernetes API server resources are encrypted:

* Secrets

* ConfigMaps

* Routes

* OAuth access tokens

* OAuth authorize tokens

[id="ocp-4-3-cluster-monitoring"]
=== Cluster monitoring

[id="ocp-4-3-performance-improvements-for-promql-query-browser-in-console"]
==== Improvements for PromQL query browser in web console

Performance improvements are now available for the PromQL query browser used in
the {product-title} web console.

[id="ocp-4-3-use-pod-capacity-metric-for-kubelettoomanypods-alert"]
==== Use Pod capacity metric for KubeletTooManyPods alert

The `KubeletTooManyPods` alert now uses the Pod capacity metric as a threshold
instead of a fixed number.

[id="ocp-4-3-extend-user-workload-monitoring"]
==== Extend user workload monitoring (Technology Preview)

The existing monitoring stack can be extended so you can configure monitoring
for your own Services.

[id="ocp-4-3-query-browser-available-throught-devexp-console"]
==== Query browser available through the DevExp console (Technology Preview)

The query browser is now available through the DevExp console so you can easily
xref:ocp-4-3-extend-user-workload-monitoring[extend user workload monitoring].

[id="ocp-4-3-web-console"]
=== Web console

[id="ocp-4-3-windows-support"]
==== Microsoft Windows support

The {product-title} web console now supports Windows Containers.

[id="ocp-4-3-console-project-link"]
==== New ConsoleProjectLink Custom Resource Definition

The new `ConsoleProjectLink` Custom Resource Definition enables you to launch
project-specific applications like ServiceMesh and Quay in context.

[id="ocp-4-3-console-yaml-sample"]
==== New ConsoleYAMLSample Custom Resource Definition

The new `ConsoleYAMLSample` Custom Resource Definition provides the ability to
dynamically add YAML examples to any Kubernetes resource at any time.

See
xref:../web-console/customizing-the-web-console.adoc#customizing-web-console[Customizing
the web console] for more information.

[id="ocp-4-3-open-a-support-case"]
==== Open a Support case from the web console

You can now open a Red Hat Support case from the web console.

[id="ocp-4-3-scale"]
=== Scale

[id="ocp-4-3-scale-cluster-limits"]
==== Cluster limits

Updated guidance around
xref:../scalability_and_performance/planning-your-environment-according-to-object-limits.adoc#planning-your-environment-according-to-object-limits[Cluster
Limits] for {product-title} {product-version} is now available.

Use the link:https://access.redhat.com/labs/ocplimitscalculator/[{product-title}
Limit Calculator] to estimate cluster limits for your environment.

[id="ocp-4-3-storage"]
=== Storage

[id="ocp-4-3-iscsi"]
==== iSCSI

Persistent volumes and raw block volumes using iSCSI, previously in Technology
Preview, are now fully supported in {product-title} 4.3.

[id="ocp-4-3-csi-volume-expansion"]
==== Container Storage Interface

Using the Container Storage Interface (CSI) to expand storage volumes after they
have already been created is now enabled by default in Technology Preview.

[id="ocp-4-3-operators"]
=== Operators

[id="ocp-4-3-samples-operator"]
==== Samples Operator

The Samples Operator automatically recognizes the cluster architecture during
installation and does not install incompatible x86_64 content on Power and Z
architectures.

[id="ocp-4-3-notable-technical-changes"]
== Notable technical changes

{product-title} {product-version} introduces the following notable technical
changes.

[id="ocp-4-3-deprecated-features"]
=== Deprecated features

[id="ocp-4-3-pipelines-now-deprecated"]
==== Deprecation of pipelines build strategy

The pipelines build strategy is now depreciated. Use OpenShift Pipelines
instead.

[id="ocp-4-3-beta-workload-alerts-deprecated"]
==== Deprecation of beta workload alerts

The `apps/v1beta1`, `apps/v1beta2`, `extensions/v1beta1` workload alerts are now
deprecated with the introduction of Kubernetes 1.16.

[id="ocp-4-3-service-catalog-deprecated"]
==== Deprecation of Service Catalog, Template Service Broker, Ansible Service Broker, and their Operators

Service Catalog, Template Service Broker, Ansible Service Broker, and their
associated Operators were deprecated in {product-title} 4.2 and will be removed
in a future {product-title} release. If they are enabled in 4.3, the web console
now warns the user that these features are still enabled.

The following alerts can be viewed from the *Monitoring* -> *Alerts* page and
have a *Warning* severity:

* `ServiceCatalogAPIServerEnabled`
* `ServiceCatalogControllerManagerEnabled`
* `TemplateServiceBrokerEnabled`
* `AnsibleServiceBrokerEnabled`

The following related APIs will be removed in a future release:

* `.servicecatalog.k8s.io/v1beta1`
* `.automationbroker.io/v1alpha1`
* `.osb.openshift.io/v1`

[id="ocp-4-3-bug-fixes"]
== Bug fixes

[id="ocp-4-3-technology-preview"]
== Technology Preview features

Some features in this release are currently in Technology Preview. These
experimental features are not intended for production use. Note the
following scope of support on the Red Hat Customer Portal for these features:

link:https://access.redhat.com/support/offerings/techpreview[Technology Preview
Features Support Scope]

In the table below, features marked *TP* indicate _Technology Preview_ and
features marked *GA* indicate _General Availability_. Features marked as *-*
indicate that the feature is removed from the release or deprecated.

.Technology Preview Tracker
[cols="4",options="header"]
|====
|Feature |OCP 4.1 |OCP 4.2 |OCP 4.3

|Prometheus Cluster Monitoring
|GA
|GA
|GA

|Local Storage Persistent Volumes
|TP
|TP
|TP

|CRI-O for runtime Pods
|GA
|GA
|GA

|Tenant Driven Snapshotting
|TP
|TP
|TP

|`oc` CLI Plug-ins
|TP
|TP
|TP

|Service Catalog
|GA
|GA
|--

|Template Service Broker
|GA
|GA
|--

|OpenShift Ansible Service Broker
|GA
|GA
|--

|Network Policy
|GA
|GA
|GA

|Multus
|GA
|GA
|GA

|New Add Project Flow
|GA
|GA
|GA

|Search Catalog
|GA
|GA
|GA

|Cron Jobs
|GA
|GA
|GA

|Kubernetes Deployments
|GA
|GA
|GA

|StatefulSets
|GA
|GA
|GA

|Explicit Quota
|GA
|GA
|GA

|Mount Options
|GA
|GA
|GA

|System Containers for Docker, CRI-O
|-
|-
|-

|Hawkular Agent
|-
|-
|-

|Pod PreSets
|-
|-
|-

|experimental-qos-reserved
|TP
|TP
|TP

|Pod sysctls
|GA
|GA
|GA. See xref:ocp-4-3-known-issues[Known issues] for current limitations.

|Central Audit
|GA
|-
|-

|Static IPs for External Project Traffic
|GA
|GA
|GA

|Template Completion Detection
|GA
|GA
|GA

|`replicaSet`
|GA
|GA
|GA

|Fluentd Mux
|TP
|TP
|TP

|Clustered MongoDB Template
|-
|-
|-

|Clustered MySQL Template
|-
|-
|-

|ImageStreams with Kubernetes Resources
|GA
|GA
|GA

|Device Manager
|GA
|GA
|GA

|Persistent Volume Resize
|GA
|GA
|GA

|Huge Pages
|GA
|GA
|GA

|CPU Pinning
|GA
|GA
|GA

|Admission Webhooks
|TP
|GA
|GA

|External provisioner for AWS EFS
|TP
|TP
|TP

|Pod Unidler
|TP
|TP
|TP

|Node Problem Detector
|TP
|TP
|TP

|Ephemeral Storage Limit/Requests
|TP
|TP
|TP

|Descheduler
|TP
|TP
|TP

|CephFS
|TP
|TP
|TP

|Podman
|TP
|TP
|TP

|Kuryr CNI Plug-in
|TP
|TP
|TP

|Sharing Control of the PID Namespace
|TP
|TP
|TP

|Manila Provisioner
|TP
|TP
|TP

|Cluster Administrator console
|GA
|GA
|GA

|Cluster Autoscaling
|GA
|GA
|GA

|Container Storage Interface (CSI)
|TP
|TP
|GA

|Operator Lifecycle Manager
|TP
|GA
|GA

|Red Hat OpenShift Service Mesh
|TP
|GA
|GA

|"Fully Automatic" Egress IPs
|GA
|GA
|GA

|Pod Priority and Preemption
|GA
|GA
|GA

|Multi-stage builds in Dockerfiles
|TP
|GA
|GA

|OVN-Kubernetes Pod network provider
|TP
|TP
|TP

|HPA custom metrics adapter based on Prometheus
|TP
|TP
|TP

|Machine health checks
|TP
|TP
|TP

|Raw Block with iSCSI
|
|TP
|GA

|Raw Block with Cinder
|
|
|TP

|OperatorHub
|
|GA
|GA

|Three-node bare metal deployments
|
|TP
|TP

|SR-IOV Network Operator
|
|TP
|GA

|====

[id="ocp-4-3-known-issues"]
== Known issues

* If you have Service Mesh installed, upgrade Service Mesh before upgrading
{product-title}. For a workaround, see
xref:../service_mesh/service_mesh_install/updating-ossm.adoc#updating-ossm[Updating OpenShift
Service Mesh from version 1.0.1 to 1.0.2].
