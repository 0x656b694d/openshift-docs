= First Steps
{product-author}
{product-version}
:data-uri:
:icons:
:experimental:
:toc: macro
:toc-title:

toc::[]

== Overview
These steps will help you populate your OpenShift deployment with a useful set of `ImageStreams` and `Templates` that will make it easy for developers to create new applications.  The instructions will create these objects in the `openshift` project which is a default project to which all users have view access.

== Prerequisites
* You have deployed the OpenShift Docker registry service
* You are able to run client commands with cluster-admin authority
* You have cluster-admin privileges.  You will need to run all of these commands as cluster-admin because they operate on the `openshift` project.

== Create ImageStreams for OpenShift Images
The core set of image streams provide images that can be used to build NodeJS, Perl, PHP, Python, and Ruby applications.  It also defines images for MongoDB, MySQL,and PostgreSQL to support data storage.

To create the core set of image streams, run:

    $ oc create -f examples/image-streams/image-streams-centos7.json -n openshift

*Note:* if you are setting up a subscribed system and prefer to use the RHEL7 based images,  run this command instead:
    
    $ oc create -f examples/image-streams/image-streams-rhel7.json -n openshift

It is not possible to create both sets of ImageStreams because they use the same name.  If you desire to have both sets of ImageStreams available to users, either create one set in a different Project, or edit one of the files and modify the ImageStream names to make them unique.

== Create ImageStreams for JBoss Middleware Images
The JBoss Middleware image streams provide images for JBoss EAP, JBoss EWS, and JBoss AMQ.  They can be used to build applications for those platforms or run directly as is.

    $ oc create -f examples/middleware-streams/jboss-image-streams.json

*Note:* Access to the images referenced by these imagestreams requires a subscription. 

== Create Database Service Templates
The database service templates make it easy to run a database image which can be utilized by other components.  For each database (MongoDB, MySQL, PostgreSQL), two templates are defined.  One uses ephemeral storage in the container which means data stored will be lost if the container is restarted such as because the Pod moves.  This template should be used for demonstration purposes only.  The other template defines a persistent volume for storage, however it requires your OpenShift deployment have persistent volumes configured.

Once registered, users will be able to easily instantiate the various templates, giving them quick access to a database deployment.

To register the core set of database templates, run:

    $ oc create -f examples/db-templates -n openshift


== Create QuickStart Templates
The QuickStart templates define a full set of components for a running application.  These include:

* BuildConfig to build the application from source located in a GitHub public repository
* DeploymentConfig to deploy the application image once built
* Service to provide load balancing for the application Pods
* Route to provide external access to the application

Some of the templates also define a database deployment and service so the application can perform database operations.

Once registered, users will be able to easily instantiate full applications using the various language images provided with OpenShift.  They can also customize the template parameters during instantiation so that it builds source from their own repository rather than the sample repository, so this provides a simple starting point for building new applications.

To register the basic templates run:

    $ oc create -n openshift -f examples/quickstart-templates

There is also a set of templates for creating applications using various JBoss products (EAP, EWS, AMQ) which can be registered by running: 

    $ oc create -n openshift -f examples/middleware-templates

*Note:* the JBoss Templates require the JBoss ImageStreams which in turn require a valid subscription.

== Next Steps

With these artifacts created, you can now log into the web console and follow the create from template flow.  Youâ€™ll be able to select any of the database or application templates to create a running database service or application in your project.  Note that some of the application templates define their own database services as well.

The example applications are all built out of GitHub repositories which are referenced by the templates by default, as seen in the SOURCE_REPOSITORY_URL parameter value.  You can fork those repositories and provide your own SOURCE_REPOSITORY_URL parameter value when creating from the template to experiment with creating your own applications.


