// Module included in the following assemblies:
//
// getting_started_rosa/creating-first-rosa-cluster.adoc


[id="rosa-create-dedicated-cluster-admins.adoc"]
= Granting dedicated-admin and cluster-admin access
As the user that created the cluster, add the `cluster-admin` user role to your account to have the maximum administrator privileges. Additionally, only the user who created the cluster can grant cluster access to other `cluster-admin` or `dedicated-admin` users. `dedicated-admin` users have fewer privileges.

.Prerequisites

* You have added an Identity Provider (IDP) to your cluster.
* You have the IDP user name for the user you are creating.
* You are logged in to the cluster.

.Procedure

. To grant cluster access to a `dedicated-admin` user:
.. Enter the following command to promote your user to a `dedicated-admin`:
+
[source,terminal]
----
$ rosa grant user dedicated-admin --user <idp_user_name> --cluster <cluster_name>
----
+
.. Enter the following command to verify that your user now has `dedicated-admin` access. As a `dedicated-admin` you should see output similar to the example output when entering the following command:
+
[source,terminal]
----
$ oc get groups dedicated-admins
----
+
.Example output
[source,terminal]
----
NAME               USERS
dedicated-admins   rh-rosa-test-user
----
+
[NOTE]
====
A Forbidden error displays if user without `dedicated-admin` privileges runs this command.
====
+
. To grant cluster access to an `cluster-admin` user:
.. Enable `cluster-admin` capability on the cluster:
+
[source,terminal]
----
$ rosa edit cluster <cluster_name> --enable-cluster-admins
----
+
.. Give your user `cluster-admin` privileges:
+
[source,terminal]
----
$ rosa grant user cluster-admin --user <idp_user_name> --cluster <cluster_name>
----
+
.. Verify your user is listed as a `cluster-admin`:
+
[source,terminal]
----
$ rosa list users --cluster <cluster_name>
----
+
.Example output
[source,terminal]
----
GROUP             NAME
cluster-admins    rh-rosa-test-user
dedicated-admins  rh-rosa-test-user
----
+
.. Enter the following command to verify that your user now has `cluster-admin` access. As a `cluster-admin` you should be able to enter the following command without errors.
+
[source,terminal]
----
$ oc get all -n openshift-apiserver
----
+
.Example output
[source,terminal]
----
NAME                  READY   STATUS    RESTARTS   AGE
pod/apiserver-6ndg2   1/1     Running   0          17h
pod/apiserver-lrmxs   1/1     Running   0          17h
pod/apiserver-tsqhz   1/1     Running   0          17h
NAME          TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)   AGE
service/api   ClusterIP   172.30.23.241   <none>        443/TCP   18h
NAME                       DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR                     AGE
daemonset.apps/apiserver   3         3         3       3            3           node-role.kubernetes.io/master=   18h
----
