// Module included in the following assemblies:
//
// * installing/install_config/installing-customizing.adoc

[id="installation-special-config-encrypt-disk_{context}"]
= Encrypting disks during installation

You can enable encryption for the boot disks on the control plane and compute nodes at installation time. {product-title} supports the Trusted Platform Module (TPM) v2 and Tang encryption modes.

* TPM v2: This is the preferred mode. TPM v2 stores passphrases in a secure cryptoprocessor contained within a server. You can use this mode to prevent the boot disk data on a cluster node from being decrypted if the disk is removed from the server.
* Tang: Tang and Clevis are server and client components that enable network-bound disk encryption (NBDE). You can bind the boot disk data on your cluster nodes to a Tang server. This prevents the data from being decrypted unless the nodes are on a secure network where the Tang server can be accessed. Clevis is an automated decryption framework that is used to implement the decryption on the client side.

[IMPORTANT]
====
The use of Tang encryption mode to encrypt your disks is only supported for bare metal and vSphere installations on user-provisioned infrastructure.
====

When the TPM v2 or Tang encryption modes are enabled, the {op-system} boot disks are encrypted using the LUKS2 format.

This feature:

* Is available for installer-provisioned infrastructure and user-provisioned infrastructure deployments
* Is supported on {op-system-first} systems only
* Sets up disk encryption during the manifest installation phase so all data written to disk, from first boot forward, is encrypted
* Encrypts data on the root filesystem only (`/dev/mapper/coreos-luks-root` on `/`)
* Requires no user intervention for providing passphrases
* Uses AES-256-CBC encryption

Follow one of the two procedures to enable disk encryption for the nodes in your cluster.
