// Module included in the following assemblies:
//
// * upgrade/upgrade-from-44.adoc
:_module-type: PROCEDURE
[id="upgrade-central_{context}"]
= Upgrading Central

You can update Central to the latest version by downloading and deploying the updated images.

.Prerequisites

* If you deploy images from a private image registry, first push the new image into your private registry, and then replace your image registry for the commands in this section.
* If you used Red Hat UBI-based images when you installed {product-title}, replace the image names for the commands in this section with the following UBI-based image names:
** For Central, Sensor, and Compliance, use `\registry.redhat.io/rh-acs/main-rhel`
** For Scanner, use `\registry.redhat.io/rh-acs/scanner-rhel` and `\registry.redhat.io/rh-acs/scanner-db-rhel`
** For Collector, use `\registry.redhat.io/rh-acs/collector-rhel`

.Procedure

* Run the following commands to upgrade Central:
+
[source,terminal]
----
$ oc -n stackrox patch deploy/central -p '{"spec":{"template":{"spec":{"containers":[{"name":"central","env":[{"name":"ROX_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}]}]}}}}' <1>
----
<1> If you use Kubernetes, enter `kubectl` instead of `oc`.
+
[source,terminal,subs=attributes+]
----
$ oc -n stackrox set image deploy/central central=registry.redhat.io/rh-acs/main:{rhacs-version} <1>
----
<1> If you use Kubernetes, enter `kubectl` instead of `oc`.
+
[IMPORTANT]
====
If you are upgrading from {product-title} 3.65.0, you must run the following additional command to create the `stackrox-central-diagnostics` role:
[source,terminal]
----
$ oc -n stackrox patch role stackrox-central-diagnostics -p '{"rules":[{"apiGroups":["*"],"resources":["deployments","daemonsets","replicasets","configmaps","services"],"verbs":["get","list"]}]}' <1>
----
<1> If you use Kubernetes, enter `kubectl` instead of `oc`.
====

.Verification

* Check that the new pods have deployed:
+
[source,terminal]
----
$ oc get deploy -n stackrox -o wide <1>
----
<1> If you use Kubernetes, enter `kubectl` instead of `oc`.
+
[source,terminal]
----
$ oc get pod -n stackrox --watch <1>
----
<1> If you use Kubernetes, enter `kubectl` instead of `oc`.
