
// Module included in the following assemblies:
//
// * assemblies/osd-upgrades.adoc

[id="osd-upgrade-cli_{context}"]

= Upgrading your cluster through the CLI


You can use the OpenShift Cluster Manager (OCM) CLI upgrade wizard to schedule automatic and manual upgrade policies, list the upgrade policy, and delete the upgrade policy for your {product-title} cluster.

// TODO: Should there be a prereq here to have the ocm CLI installed? This is the first time I've come across it

// TODO: Suggest another look at this procedure. Some of it looks like it might be sequential (like kicking off with the "ocm" command, but then next it'd be  choice of manual or automatic. And then it just gives some details about listing and deleting, which aren't necessarily a required part of the procedure. Also a question on the bold - does the command actually pop up a GUI wizard, or just walk you through the steps in the terminal?

.Procedure

. To create an upgrade policy, enter the following command and then use the arrows to select either *automatic* or *manual* as your policy type.
+
[source,terminal]
----
$ ocm create upgradepolicy --cluster <cluster_id>
----

. To schedule an *automatic* upgrade:
+
** Select the *day* of the week you want your cluster to upgrade.
** Select the *hour* (UTC) you want the automatic upgrade to run on your selected day. The CLI indicates when the upgrade policy has been successfully created.

. To schedule a *manual* upgrade:
+
** Select the *version* you want to upgrade to from the available upgrade version list.
** Specify whether you want to *Upgrade now*, or you can *Schedule a different time*.
** If you schedule a different time, you must enter the desired date in the format yyyy-mm-dd. You must also enter the desired UTC time in the format HH:mm. The CLI indicates when the upgrade policy has been successfully created.

. To list your upgrade policies:
+
[source,terminal]
----
$ ocm list upgradepolicies --cluster <cluster_id>
----

. To delete an upgrade policy:
+
[source,terminal]
----
$ ocm delete upgradepolicy <policy_id> --cluster <cluster_id>
----
